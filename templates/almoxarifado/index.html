{% extends "base.html" %}
{% block title %}Almoxarifado{% endblock %}

{% block content %}
<div class="page">

  <div class="page-header" style="display:flex; justify-content:space-between; align-items:center;">
    <h1>Almoxarifado</h1>
    <a href="{{ url_for('almoxarifado.novo') }}" class="btn-primary">Novo item</a>
  </div>

  <div class="card" style="width:100%; max-width:100%; padding:0;">
    <table class="table" style="width:100%; border-collapse:collapse;">
      <thead>
        <tr>
          <th style="padding:12px 14px;">Item</th>
          <th style="padding:12px 14px;">Categoria</th>
          <th style="padding:12px 14px;">Unidade</th>
          <th style="padding:12px 14px;">Estoque</th>
          <th style="padding:12px 14px;">Status</th>
        </tr>
      </thead>
      <tbody>
        {% if itens and itens|length > 0 %}
          {% for it in itens %}
          <tr>
            <td style="padding:12px 14px; font-weight:600;">{{ it.nome }}</td>
            <td style="padding:12px 14px;">{{ it.categoria or "â€”" }}</td>
            <td style="padding:12px 14px;">{{ it.unidade }}</td>
            <td style="padding:12px 14px;">{{ "%.2f"|format(it.estoque_atual or 0) }}</td>
            <td style="padding:12px 14px;">
              {% if it.ativo %}
                <span class="chip">Ativo</span>
              {% else %}
                <span class="chip" style="opacity:.7;">Inativo</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        {% else %}
          <tr>
            <td colspan="5" style="padding:16px 14px;">Nenhum item cadastrado.</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  </div>

</div>
{% endblock %}
