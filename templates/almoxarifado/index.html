{% extends "base.html" %}
{% block title %}Almoxarifado{% endblock %}

{% block content %}
<div class="page">

  <style>
    /* Responsividade apenas para telas pequenas */
    @media (max-width: 640px) {
      .wrapper-table-mobile {
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      .wrapper-table-mobile table {
        min-width: 700px;
      }
    }
  </style>

  <div class="page-header" style="display:flex; justify-content:space-between; align-items:center;">
    <h1>Almoxarifado</h1>
    <a href="#" class="btn-primary">Novo Item</a>
  </div>

  <div class="card" style="width:100%; max-width:100%; padding:0;">

    <div class="wrapper-table-mobile">

      <table class="table" style="width:100%; border-collapse: collapse;">
        <thead>
          <tr>
            <th style="padding:14px 20px;">Item</th>
            <th style="padding:14px 20px;">Categoria</th>
            <th style="padding:14px 20px;">Unidade</th>
            <th style="padding:14px 20px;">Saldo</th>
            <th style="padding:14px 20px;">Ações</th>
          </tr>
        </thead>

        <tbody>
          {% for item in itens %}
          <tr style="border-top:1px solid rgba(148,163,184,0.18);">

            <td style="padding:14px 20px;">{{ item.nome }}</td>
            <td style="padding:14px 20px;">{{ item.categoria or '-' }}</td>
            <td style="padding:14px 20px;">{{ item.unidade }}</td>

            <td style="padding:14px 20px;">
              <span class="chip"
                style="background:rgba(59,130,246,0.12); border:1px solid rgba(59,130,246,0.4); color:#3b82f6;">
                {{ item.estoque_atual }}
              </span>
            </td>

            <td style="padding:14px 20px; display:flex; gap:10px;">
              <a href="#" class="btn-ghost">+ Entrada</a>
              <a href="#" class="btn-ghost" style="color:#ef4444;">− Saída</a>
            </td>

          </tr>
          {% endfor %}
        </tbody>

      </table>

    </div>

  </div>

</div>
{% endblock %}
